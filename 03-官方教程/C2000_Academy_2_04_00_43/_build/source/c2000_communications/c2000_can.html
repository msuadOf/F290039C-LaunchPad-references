
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Controller Area Network (CAN) &#8212; C2000 Academy  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/local/font.css" />
    <link rel="stylesheet" type="text/css" href="https://www.ti.com/assets/fonts/font.css" />
    <link rel="stylesheet" type="text/css" href="https://www.ti.com/assets/style/resource-explorer.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/quizdown.js"></script>
    <script>quizdown.init({"quizdown_js": "quizdown.js", "start_on_load": true, "shuffle_answers": false, "shuffle_questions": false, "primary_color": "var(--pst-color-primary)", "secondary_color": "#DDDDDD", "text_color": "black"});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'source/c2000_communications/c2000_can';</script>
    <script src="../../_static/quizdown.js"></script>
    <link rel="canonical" href="http://127.0.0.1:8000/source/c2000_communications/c2000_can.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CAN Flexible Data Rate (CAN FD)/MCAN" href="c2000_mcan.html" />
    <link rel="prev" title="Multichannel Buffered Serial Port (McBSP)" href="c2000_mcbsp.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search C2000 Academy" aria-label="Search C2000 Academy" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    

    
    
  </div>

  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article"></div>
              
              
                <article class="bd-article" role="main">
                  
                  
<div id="searchbox"></div>
                  
  <section class="tex2jax_ignore mathjax_ignore" id="controller-area-network-can">
<h1>Controller Area Network (CAN)<a class="headerlink" href="#controller-area-network-can" title="Permalink to this heading">#</a></h1>
<p>CAN is a serial communications protocol which efficiently supports
distributed real-time control with a high level of reliability. The CAN
module supports bit rates up to 1 Mbps and is compliant with the
ISO11898-1 (CAN 2.0B) protocol specification.</p>
<div class="admonition-can-module admonition">
<p class="admonition-title">CAN Module</p>
<p>Not all C2000 devices have a CAN module. Refer to the
<a class="reference external" href="https://www.ti.com/lit/spru566">Peripheral Reference Guide</a>
for a list of supported modules on your device.</p>
</div>
<p>CAN does not use physical addresses to address the nodes on the network. Each
message is sent with an identifier. The identifier determines if a transmitted
message will be received by CAN modules (acceptance filtering) and determines
the priority of the message when two or more nodes compete to transmit at the
same time (bus arbitration).</p>
<p><img alt="CAN Nodes" src="../../_images/CAN_nodes.png" /></p>
<section id="can-features">
<h2>CAN Features<a class="headerlink" href="#can-features" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Supports bit-rates up to 1 Mbps</p></li>
<li><p>Node-to-node, Multicast and Broadcast capability</p></li>
<li><p>Error detection and fault containment (high reliability)</p></li>
<li><p>No node addressing (message identifiers are used instead)</p></li>
<li><p>Number of nodes not limited by protocol</p></li>
<li><p>Less wires (lower cost, less maintenance, and more reliable)</p></li>
</ul>
</section>
<section id="can-bus-and-node">
<h2>CAN Bus and Node<a class="headerlink" href="#can-bus-and-node" title="Permalink to this heading">#</a></h2>
<section id="can-bus">
<h3><strong>CAN Bus</strong><a class="headerlink" href="#can-bus" title="Permalink to this heading">#</a></h3>
<p>The MCU communicates on the CAN bus through a transceiver. The CAN bus is typically a
twisted pair wire and the transmission rate depends on the bus length and the propagation
delay of the transceivers. If the bus length is less than 40 meters, transmission speed
of up to 1 Mbps is generally possible.</p>
<ul class="simple">
<li><p>Two wire differential bus (usually twisted pair)</p></li>
<li><p>Max. bus length depend on transmission rate (40 meters &#64; 1 Mbps)</p></li>
</ul>
<p><img alt="CAN Bus" src="../../_images/CAN_bus.png" /></p>
</section>
<section id="can-node">
<h3><strong>CAN Node</strong><a class="headerlink" href="#can-node" title="Permalink to this heading">#</a></h3>
<p>The image below shows a model of a typical CAN node:</p>
<p><img alt="CAN Node" src="../../_images/CAN_node.png" /></p>
</section>
</section>
<section id="principles-of-operation">
<h2>Principles of Operation<a class="headerlink" href="#principles-of-operation" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Data is transmitted in frames. Frames are identifier based, not node address based</p></li>
<li><p>Content of message is labeled by an identifier that is unique throughout
the network (e.g. rpm, temperature, position, pressure, etc.)</p></li>
<li><p>All nodes on network monitor the transmitted message and each performs an acceptance
test on the identifier</p></li>
<li><p>If message is relevant, it is processed (received); otherwise it is
ignored</p></li>
<li><p>The unique identifier also determines the priority of the message (lower the
numerical value of the identifier, the higher the priority)</p></li>
<li><p>When two or more nodes attempt to transmit at the same time, a
non-destructive arbitration technique guarantees messages are sent in
order of priority and no messages are lost</p></li>
</ul>
<section id="non-destructive-bitwise-arbitration">
<h3><strong>Non-Destructive Bitwise Arbitration</strong><a class="headerlink" href="#non-destructive-bitwise-arbitration" title="Permalink to this heading">#</a></h3>
<p>Bus contention is resolved via arbitration mimicking a wired AND bus connection</p>
<ul class="simple">
<li><p>Dominant state (logic 0)</p></li>
<li><p>Recessive state (logic 1)</p></li>
</ul>
<p><img alt="CAN Non-Destructive Arbitration" src="../../_images/CAN_non_destructive_arbitration.png" /></p>
</section>
</section>
<section id="message-format-and-block-diagram">
<h2>Message Format and Block Diagram<a class="headerlink" href="#message-format-and-block-diagram" title="Permalink to this heading">#</a></h2>
<section id="can-message-format">
<h3><strong>CAN Message Format</strong><a class="headerlink" href="#can-message-format" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Data is transmitted and received using Frames</p></li>
<li><p>Up to 8 byte data payload per frame</p></li>
<li><p>Standard and Extended identifier formats</p>
<ul>
<li><p>Standard Frame: 11-bit Identifier (CAN v2.0A)</p></li>
</ul>
</li>
</ul>
<p><img alt="CAN Standard Frame" src="../../_images/CAN_standard_frame.png" /></p>
<ul class="simple">
<li><p>Extended Frame: 29-bit Identifier (CAN v2.0B)</p></li>
</ul>
<p><img alt="CAN Extended Frame" src="../../_images/CAN_extended_frame.png" /></p>
<p>The CAN module contains a message handler for
transmission/reception management, and frame storage. The specification is CAN 2.0B Active – that is,
the module can send and accept standard (11-bit identifier) and extended frames (29-bit
identifier). The terms “Mailboxes” or “Message objects” may be used interchangeably in the documentation.</p>
<p><img alt="CAN Block Diagram" src="../../_images/CAN_block_diagram.png" /></p>
<div class="admonition-note admonition">
<p class="admonition-title">Note:</p>
<p>CAN module access may vary from device to device (e.g. access to the DMA). To verify what access the CAN module has for your device, please refer
to the Technical Reference Manual</p>
</div>
<ul class="simple">
<li><p>The CAN module contains 32 mailboxes for objects of 0 to 8-byte data length. Each mailbox is</p>
<ul>
<li><p>Configurable as transmit/receive mailbox</p></li>
<li><p>Configurable with standard or extended identifier</p></li>
</ul>
</li>
<li><p>The CAN module mailboxes are divided into several parts:</p>
<ul>
<li><p><strong>ID</strong> – contains the identifier of the mailbox</p></li>
<li><p><strong>DLC (Data Length Code)</strong> – contains the length of the message to be transmitted</p></li>
<li><p><strong>RTR (Remote Transmission Request)</strong> – used to send remote frames</p></li>
<li><p><strong>MDL and MDH</strong> – hold the data</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="can-summary">
<h2>CAN Summary<a class="headerlink" href="#can-summary" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Fully compliant with CAN standard v2.0B</p></li>
<li><p>Supports data rates up to 1 Mbps</p></li>
<li><p>Thirty-two message objects</p>
<ul>
<li><p>Configurable as receive or transmit</p></li>
<li><p>Configurable with standard or extended identifier</p></li>
<li><p>Programmable acceptance mask</p></li>
<li><p>Programmable interrupt scheme (two levels)</p></li>
</ul>
</li>
<li><p>Programmable wake-up on bus activity</p></li>
<li><p>Two interrupt lines</p></li>
<li><p>Self-test mode</p></li>
</ul>
</section>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this heading">#</a></h2>
<div class="admonition-get-started-with-the-dcan-module admonition">
<p class="admonition-title">Get Started with the DCAN Module</p>
<p>The following video shows how to get two LaunchPads communicate with each other over the DCAN
module. For this video, the TMS320F280025 LaunchPads are used. However, the procedure explained
in this video is applicable for any LaunchPad. The project <b><i>can_ex5_transmit_receive</i></b>
from the C2000Ware examples is used.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://training.ti.com/getting-started-dcan-module">Getting Started with the DCAN Module (Video)</a></p></li>
</ul>
</div>
<section id="can-related-collateral">
<h3>CAN Related Collateral<a class="headerlink" href="#can-related-collateral" title="Permalink to this heading">#</a></h3>
<p><strong>Foundational</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.ti.com/video/5236633580001">Automotive CAN Overview and Training</a></p></li>
<li><p><a class="reference external" href="https://www.ti.com/video/6078637405001">CAN Physical layer</a></p></li>
<li><p><a class="reference external" href="https://www.ti.com/video/6078637459001">CAN and CAN FD Overview</a></p></li>
<li><p><a class="reference external" href="https://www.ti.com/video/6078640832001">CAN and CAN FD Protocol</a> - Only applicable to: F280013x, F28002x, F28003x, F28004x, F2807x, F2837xD, F2837xS, F2838x</p></li>
</ul>
<p><strong>Getting Started</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://ti.com/lit/SPRACE5">Programming Examples for the DCAN Module Application Report</a> - Only applicable to: F2837xD, F2837xS, F2807x, F28004x, F2838xD, F2838xS, F28002x, F28003x, F280015x</p></li>
</ul>
<p><strong>Expert</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://ti.com/lit/SPRACQ3">Configurable Error Generator for Controller Area Network Application Report</a> - Only applicable to: F28002x, F28004x, F2807x, F2837xD, F2837xS, F2838x</p></li>
</ul>
</section>
<hr class="docutils" />
<div class="admonition-feedback admonition">
<p class="admonition-title">Feedback</p>
<p>Please provide any feedback you may have about the content within C2000 Academy to: <a class="reference external" href="mailto:c2000_academy_feedback&#37;&#52;&#48;list&#46;ti&#46;com">c2000_academy_feedback<span>&#64;</span>list<span>&#46;</span>ti<span>&#46;</span>com</a></p>
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="c2000_mcbsp.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Multichannel Buffered Serial Port (McBSP)</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="c2000_mcan.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">CAN Flexible Data Rate (CAN FD)/MCAN</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc">
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#can-features">
   CAN Features
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#can-bus-and-node">
   CAN Bus and Node
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-bus">
     <strong>
      CAN Bus
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-node">
     <strong>
      CAN Node
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#principles-of-operation">
   Principles of Operation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#non-destructive-bitwise-arbitration">
     <strong>
      Non-Destructive Bitwise Arbitration
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#message-format-and-block-diagram">
   Message Format and Block Diagram
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-message-format">
     <strong>
      CAN Message Format
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#can-summary">
   CAN Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#resources">
   Resources
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-related-collateral">
     CAN Related Collateral
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
</div>
</div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
<script async>
  async function setTheme() {
    try {
      var colorScheme = await window.parent.getTirexTheme();
      var mode = colorScheme === 'dark' ? 'dark' : 'light';
      localStorage.setItem('mode', mode);
      document.documentElement.dataset.mode = mode;
      document.documentElement.dataset.theme = colorScheme;
    } catch (error) {
      console.error('Failed to set the theme:', error);
    }
  }

  setTheme();
</script>


  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>




<script type="text/javascript">
  function extractNodeValue(url) {
    try {
      const parsedUrl = new URL(url);
      if (parsedUrl.pathname === '/tirex/explore/node') {
        const searchParams = new URLSearchParams(parsedUrl.search);
        return searchParams.get('node');
      } else {
        return null;
      }
    } catch (error) {
      console.error("Invalid URL:", error);
      return null;
    }
  }

  // Get all links on the page
  const links = document.querySelectorAll('a');

  // Get the project name and replace spaces with underscores
  var projName = "C2000 Academy";

  // Attach a click event listener to each link
  links.forEach((link) => {
    link.addEventListener('click', (event) => {
      // Prevent the default link behavior
      event.preventDefault();

      const url = link.href;
      const match = url.match(/source\/.+$/);
      const localId = match ? match[0].replace(/\.html$/, '').replace(/[\/\\\.]/g, '_').toLowerCase() : null;

      const extractedNode = extractNodeValue(url);

      if (typeof window.parent.jumpToTirexNodeOnLocal === 'function') {
        window.parent.jumpToTirexNodeOnLocal(localId, null, null, {
            throwError: true
          })
          .catch((e) => {
            if (extractedNode !== null) {
              window.parent.jumpToTirexNode(extractedNode, {
                  throwError: true
                })
                .catch((e) => {
                  window.location.href = link.href;
                })
            }
            else {
              if (url.includes("e2e.ti.com") || url.includes("dev.ti.com/gallery/view")) {
              window.open(url, "_blank")
              } else {
              window.location.href = link.href;
            }}
          })
      } else {
        window.location.href = link.href;
      }
    });
  });
</script>
  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2023, Texas Instruments.<br>

</p>

  </div>
  
</div>
  </footer>
  </body>
</html>