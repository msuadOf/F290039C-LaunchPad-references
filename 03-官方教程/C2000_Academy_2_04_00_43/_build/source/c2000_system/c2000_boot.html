
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Reset and Boot Process &#8212; C2000 Academy  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/local/font.css" />
    <link rel="stylesheet" type="text/css" href="https://www.ti.com/assets/fonts/font.css" />
    <link rel="stylesheet" type="text/css" href="https://www.ti.com/assets/style/resource-explorer.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/quizdown.js"></script>
    <script>quizdown.init({"quizdown_js": "quizdown.js", "start_on_load": true, "shuffle_answers": false, "shuffle_questions": false, "primary_color": "var(--pst-color-primary)", "secondary_color": "#DDDDDD", "text_color": "black"});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'source/c2000_system/c2000_boot';</script>
    <script src="../../_static/quizdown.js"></script>
    <link rel="canonical" href="http://127.0.0.1:8000/source/c2000_system/c2000_boot.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Interrupts" href="c2000_interrupt.html" />
    <link rel="prev" title="Overview of C28x Devices and Accelerators" href="../c2000_overview/c2000_device_overview.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search C2000 Academy" aria-label="Search C2000 Academy" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    

    
    
  </div>

  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article"></div>
              
              
                <article class="bd-article" role="main">
                  
                  
<div id="searchbox"></div>
                  
  <section class="tex2jax_ignore mathjax_ignore" id="reset-and-boot-process">
<h1>Reset and Boot Process<a class="headerlink" href="#reset-and-boot-process" title="Permalink to this heading">#</a></h1>
<p>C2000 devices have
various reset sources. Refer to the ‘Reset Causes and Handling’ section within
the Technical Reference Manual for a full list of possible reset sources. Below
is a description of the most common reset sources:</p>
<p>•<strong>Power-on Reset (POR)</strong>- The POR circuit is used to create a clean reset
throughout the device during power-up, while suppressing glitches on the
input/output pins.</p>
<p>•<strong>XRS (External Reset Pin)</strong>- XRS is the main chip-level reset for the
device, and it resets the device to the default state (for devices with
multiple CPU subsystems, each CPU subsystem gets reset).</p>
<p>•<strong>Watchdog Timer Reset</strong>- The watchdog will trigger a reset and pull the XRS
pin low</p>
<div class="admonition-note admonition">
<p class="admonition-title">Note:</p>
<p>For dual/multi core devices, resets on CPU1 will reset the entire
device and resets on the other core/s will reset only that
sub-subsystem.</p>
</div>
<p>A reset cause register (RESC) is available (for devices with multi-code subsystems, each core has one register) which can be read to determine the cause of the
reset.</p>
<section id="dual-core-boot-process">
<h2>Dual-Core Boot Process<a class="headerlink" href="#dual-core-boot-process" title="Permalink to this heading">#</a></h2>
<p><strong>The below procedure is for the F2837XD Device:</strong></p>
<ol class="arabic simple">
<li><p>CPU1 starts execution from CPU1 boot ROM while CPU2 is held in reset</p></li>
</ol>
<ul class="simple">
<li><p>CPU1 controls the boot process</p></li>
<li><p>CPU2 goes through its own boot process under the control of CPU1-except when CPU2 is set to boot-to-flash</p></li>
<li><p>IPC registers are used to communicate between CPU1 and CPU2 during the boot process</p></li>
</ul>
<p><strong>The below procedure is for the F2838xD Device:</strong></p>
<ol class="arabic simple">
<li><p>CPU1 starts execution from CPU1 boot ROM while CPU2/CM are held in reset</p></li>
</ol>
<ul class="simple">
<li><p>CPU1 controls the boot process</p></li>
<li><p>CPU2/CM go through their own boot process under the control of CPU1</p></li>
<li><p>IPC registers are used to communicate between CPU1, CPU2, and CM during the boot process</p></li>
</ul>
</section>
<section id="boot-sequence">
<h2>Boot Sequence<a class="headerlink" href="#boot-sequence" title="Permalink to this heading">#</a></h2>
<p>When the MCU is powered-on, and each time the MCU is reset, the internal bootloader software
located in the boot ROM is executed. The boot ROM contains bootloading routines and
execution entry points into specific on-chip memory blocks. This initial software program is used
to load an application to the device RAM through the various bootable peripherals, or it can be
configured to start an application located in flash.</p>
</section>
<section id="enhanced-boot-modes">
<h2>Enhanced Boot Modes<a class="headerlink" href="#enhanced-boot-modes" title="Permalink to this heading">#</a></h2>
<div class="admonition-note admonition">
<p class="admonition-title">Note:</p>
<p>This section is only applicable to the F2838x, F28004x, F28002x, F280013x, and
F280015x
family of devices</p>
</div>
<p>The enhanced boot modes provide the ability to move, reduce or eliminate boot mode select pins by programming the
BOOTPIN_CONFIG register.</p>
<p><strong>BOOTPIN-CONFIG</strong> register selects boot pins to be used:</p>
<ul class="simple">
<li><p>Emulation Boot Mode:</p>
<ul>
<li><p>EMU-BOOTPIN-CONFIG register - F28004x / F28002x
/ F280015x</p></li>
<li><p>EMUBOOTPIN-CONFIG register - F2838x</p></li>
</ul>
</li>
<li><p>Stand-Alone Boot Mode:</p>
<ul>
<li><p>Z1-OTP-BOOTPIN-CONFIG register - F28004x / F28002x
/ F280015x</p></li>
<li><p>Z1-BOOTPINCONFIG/ Z2-BOOTPINCONFIG register - F2838x</p></li>
</ul>
</li>
</ul>
<p><strong>BOOTDEF</strong> register determines boot mode option and assignment of peripheral GPIO pins or flash/RAM entry point</p>
<ul class="simple">
<li><p>Emulation Boot Mode:</p>
<ul>
<li><p>EMU-BOOTDEF-LOW/HIGH register - F28004x / F28002x / F280015x</p></li>
<li><p>EMUBOOTDEF-LOW/HIGH register - F2838x</p></li>
</ul>
</li>
<li><p>Stand-Alone Boot Mode:</p>
<ul>
<li><p>Z1-OTP-BOOTDEF-LOW/HIGH register - F28004x / F28002x / F280015x</p></li>
<li><p>Z1-BOOTDEF-LOW/HIGH register/ Z2-BOOTDEF-LOW/HIGH register - F2838x</p></li>
</ul>
</li>
</ul>
</section>
<section id="reset-bootloader">
<h2>Reset-Bootloader<a class="headerlink" href="#reset-bootloader" title="Permalink to this heading">#</a></h2>
<p>When the device is reset:</p>
<ul>
<li><p>The peripheral interrupt expansion block, also known as the PIE block, and the
controller interrupt switch INTM are disabled. This prevents any interrupts
during the boot process.</p></li>
<li><p>The program counter is set to 0x3FFFC0, where the reset vector is fetched.</p></li>
<li><p>In the boot code, the JTAG Test Reset signal (-TRST) is checked to determine
if a debug probe is connected to the device and a debug session (such as a live
CCS session) is active. This is applicable to the
F2837xD/F2837xS/F2807x/F2838x devices that have a -TRST pin. For devices without a -TRST pin, F280049/F2002x/F28003x
/F280015x
, the DCON bit in RESC
register is checked to determine the connection to a debug probe.</p>
<p>Example for debug probes are XDS100/XDS110/XDS200.
Some older documents refer to debug probes as “emulators”.</p>
<ul class="simple">
<li><p>If the debug probe is connected, then the boot process follows the Emulation
Boot mode flow.</p></li>
<li><p>If the debug probe is not connected, the boot process follows the Stand-alone
Boot mode flow.</p></li>
</ul>
</li>
</ul>
</section>
<section id="emulation-boot-mode">
<h2>Emulation Boot Mode<a class="headerlink" href="#emulation-boot-mode" title="Permalink to this heading">#</a></h2>
<p>This mode is used when you have an debug probe connected to the device.</p>
<p>In Emulation Boot mode, first the emulation key is checked for a value of 0x5A.
If the key is invalid, the “Wait” boot mode is entered. The key value and the
boot mode selection pin values can then be modified using the debugger and then
a reset is issued to restart the boot process. For the key value, this can be
changed in the boot pin config location within one-time programmable (OTP)
memory. This is the typical sequence followed during device power-up with the
debug probe connected, allowing the user to control the boot process using the
debugger.</p>
<p>Once the emulation key is set to 0x5A, then the boot mode selection pins
determine the boot mode. The various Emulation Boot modes supported can be
found within the ‘Device Boot Modes’ section of the Technical Reference
Manual.</p>
</section>
<section id="stand-alone-boot-mode">
<h2>Stand-Alone Boot Mode<a class="headerlink" href="#stand-alone-boot-mode" title="Permalink to this heading">#</a></h2>
<p>This mode is used when you do not have an debug probe connected to the device.</p>
<p>In Stand-alone boot mode, if the key value is not 0x5A, the boot mode is
determined by the factory default boot mode select pins (BMSPs). If the key is
0x5A the boot mode is determined by the BMSPn bit-fields in the BOOTPIN-CONFIG location.</p>
</section>
<section id="reset-code-flow-summary">
<h2>Reset Code Flow - Summary<a class="headerlink" href="#reset-code-flow-summary" title="Permalink to this heading">#</a></h2>
<p>In summary, the reset code flow is as follows. After reset, the program counter is set to
0x3FFFC0, where the flow is vectored to the <i>Init_Boot</i> code in the Boot ROM. The <i>Init_Boot</i> code
defines the execution entry based on emulation boot mode or stand-alone boot mode. The entry
point can be executing boot-loading routines, entry to the flash, or M0 RAM.</p>
<p><img alt="Stand-Alone Boot Mode" src="../../_images/reset_code_flow.png" />
<br/></p>
</section>
<section id="emulation-boot-mode-using-code-composer-studio-gel">
<h2>Emulation Boot Mode using Code Composer Studio GEL<a class="headerlink" href="#emulation-boot-mode-using-code-composer-studio-gel" title="Permalink to this heading">#</a></h2>
<p>The CCS GEL file is used to setup the boot modes for the device during debug. By default the
GEL file provides functions to set the device for “Boot to SARAM” and “Boot to FLASH”. It can be
modified to include other boot mode options, if desired.</p>
<p>To access the GEL file use: <code class="docutils literal notranslate"><span class="pre">Tools</span> <span class="pre">-&amp;gt;</span> <span class="pre">GEL</span> <span class="pre">Files</span></code></p>
</section>
<section id="peripheral-software-reset-registers">
<h2>Peripheral Software Reset Registers()<a class="headerlink" href="#peripheral-software-reset-registers" title="Permalink to this heading">#</a></h2>
<p>The peripheral software reset registers (SOFTPRESX) are composed of reset bits
(each bit corresponding to a different peripheral). When a bit within a
SOFTPRESX register is set, the respective module is in reset. All design data
is lost and the module registers are returned to their reset states. If you
then want to bring the module/peripheral out of reset then the bit must be
manually cleared.</p>
<p>Typically, peripherals are put into reset at the beginning of their
initialization in order to ensure all registers are at their default values.
Once initialization is complete, the peripheral is brought out of reset.</p>
<p><img alt="Peripheral Software Reset Registers" src="../../_images/peripheral_software_reset.png" />
<br/></p>
<div class="admonition-feedback admonition">
<p class="admonition-title">Feedback</p>
<p>Please provide any feedback you may have about the content within C2000 Academy to: <a class="reference external" href="mailto:c2000_academy_feedback&#37;&#52;&#48;list&#46;ti&#46;com">c2000_academy_feedback<span>&#64;</span>list<span>&#46;</span>ti<span>&#46;</span>com</a></p>
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="../c2000_overview/c2000_device_overview.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Overview of C28x Devices and Accelerators</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="c2000_interrupt.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Interrupts</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc">
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dual-core-boot-process">
   Dual-Core Boot Process
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#boot-sequence">
   Boot Sequence
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#enhanced-boot-modes">
   Enhanced Boot Modes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reset-bootloader">
   Reset-Bootloader
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emulation-boot-mode">
   Emulation Boot Mode
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stand-alone-boot-mode">
   Stand-Alone Boot Mode
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reset-code-flow-summary">
   Reset Code Flow - Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emulation-boot-mode-using-code-composer-studio-gel">
   Emulation Boot Mode using Code Composer Studio GEL
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#peripheral-software-reset-registers">
   Peripheral Software Reset Registers()
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
</div>
</div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
<script async>
  async function setTheme() {
    try {
      var colorScheme = await window.parent.getTirexTheme();
      var mode = colorScheme === 'dark' ? 'dark' : 'light';
      localStorage.setItem('mode', mode);
      document.documentElement.dataset.mode = mode;
      document.documentElement.dataset.theme = colorScheme;
    } catch (error) {
      console.error('Failed to set the theme:', error);
    }
  }

  setTheme();
</script>


  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>




<script type="text/javascript">
  function extractNodeValue(url) {
    try {
      const parsedUrl = new URL(url);
      if (parsedUrl.pathname === '/tirex/explore/node') {
        const searchParams = new URLSearchParams(parsedUrl.search);
        return searchParams.get('node');
      } else {
        return null;
      }
    } catch (error) {
      console.error("Invalid URL:", error);
      return null;
    }
  }

  // Get all links on the page
  const links = document.querySelectorAll('a');

  // Get the project name and replace spaces with underscores
  var projName = "C2000 Academy";

  // Attach a click event listener to each link
  links.forEach((link) => {
    link.addEventListener('click', (event) => {
      // Prevent the default link behavior
      event.preventDefault();

      const url = link.href;
      const match = url.match(/source\/.+$/);
      const localId = match ? match[0].replace(/\.html$/, '').replace(/[\/\\\.]/g, '_').toLowerCase() : null;

      const extractedNode = extractNodeValue(url);

      if (typeof window.parent.jumpToTirexNodeOnLocal === 'function') {
        window.parent.jumpToTirexNodeOnLocal(localId, null, null, {
            throwError: true
          })
          .catch((e) => {
            if (extractedNode !== null) {
              window.parent.jumpToTirexNode(extractedNode, {
                  throwError: true
                })
                .catch((e) => {
                  window.location.href = link.href;
                })
            }
            else {
              if (url.includes("e2e.ti.com") || url.includes("dev.ti.com/gallery/view")) {
              window.open(url, "_blank")
              } else {
              window.location.href = link.href;
            }}
          })
      } else {
        window.location.href = link.href;
      }
    });
  });
</script>
  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2023, Texas Instruments.<br>

</p>

  </div>
  
</div>
  </footer>
  </body>
</html>